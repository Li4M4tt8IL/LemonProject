package me.pm.lemon.module.modules.exploits;

import me.pm.lemon.event.EventTarget;
import me.pm.lemon.event.events.TickEvent;
import me.pm.lemon.gui.testScreen.settings.*;
import me.pm.lemon.module.Category;
import me.pm.lemon.module.Module;
import net.minecraft.entity.effect.StatusEffectInstance;
import net.minecraft.entity.effect.StatusEffects;

import java.awt.*;

public class SpeedMine extends Module {
    public SpeedMine(String name, Category category, String description, int keyCode, Color color) {
        super(name, category, description, keyCode, color,
                new SettingMode("Mode", "Haste", "OG"),
                new SettingSlider("Haste Lvl", 1, 3, 1, 0),
                new SettingSlider("Cooldown", 0, 4, 1, 0),
                new SettingSlider("Multiplier", 1, 3, 1.3, 1),
                new SettingToggle("AntiFatigue", true),
                new SettingToggle("AntiOffGround", true));
    }

    @Override
    public void onDisable() {
        super.onDisable();
        assert mc.player != null;
        mc.player.removeStatusEffect(StatusEffects.HASTE);
    }

    @EventTarget
    public void onTick(TickEvent event) {
        if (this.getSetting(0).asMode().mode == 0) {
            assert mc.player != null;
            mc.player.addStatusEffect(new StatusEffectInstance(StatusEffects.HASTE, 1, (int) getSetting(1).asSlider().getValue() - 1));
        }
    }

}
